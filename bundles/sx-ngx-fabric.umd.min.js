!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/cdk/portal"),require("@angular/platform-browser"),require("@angular/cdk/overlay"),require("rxjs/Subject"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/take"),require("rxjs/Subscription")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/forms","@angular/cdk/portal","@angular/platform-browser","@angular/cdk/overlay","rxjs/Subject","rxjs/add/operator/filter","rxjs/add/operator/take","rxjs/Subscription"],e):e(t["sx-ngx-fabric"]={},t.ng.core,t.ng.common,t.ng.forms,t.ng.cdk.portal,t.ng.platformBrowser,t.ng.cdk.overlay,t.Rx,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx)}(this,function(t,e,n,o,i,r,s,c,u,a,l){"use strict";function h(t,e){return e={exports:{}},t(e,e.exports),e.exports}function p(){try{return tt.apply(this,arguments)}catch(t){return nt.errorObject.e=t,nt.errorObject}}function f(t){return t.reduce(function(t,e){return t.concat(e instanceof ut.UnsubscriptionError?e.errors:e)},[])}function d(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:jt.noop}function b(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function y(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,o=t.subscriber,i=t.scheduler,r=o.openContext();o.closed||(o.add(r.closeAction=i.schedule(v,n,{subscriber:o,context:r})),this.schedule(t,e))}function v(t){var e=t.subscriber,n=t.context;e.closeContext(n)}function m(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function x(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}function g(t){var e=+t.length;return isNaN(e)?0:0!==e&&function(t){return"number"==typeof t&&bt.root.isFinite(t)}(e)?(e=function(t){var e=+t;if(0===e)return e;if(isNaN(e))return e;return e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0?0:e>de?de:e:e}function _(t){t.debouncedNext()}function w(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}function S(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function O(t){t.subscriber.clearThrottle()}function C(t){var e=t.subscriber,n=t.windowTimeSpan,o=t.window;o&&e.closeWindow(o),t.window=e.openWindow(),this.schedule(t,n)}function k(t){var e=t.windowTimeSpan,n=t.subscriber,o=t.scheduler,i=t.windowCreationInterval,r={action:this,subscription:null},s={subscriber:n,window:n.openWindow(),context:r};r.subscription=o.schedule(T,e,s),this.add(r.subscription),this.schedule(t,i)}function T(t){var e=t.subscriber,n=t.window,o=t.context;o&&o.action&&o.subscription&&o.action.remove(o.subscription),e.closeWindow(n)}var j=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();P.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-nav",template:'\n    <div class="ms-Nav-group group is-expanded groupIsExpanded">\n      <div class="ms-Nav-groupContent groupContent">\n        <ul role="list" class="navItems">\n          <li role="listitem" class="navItem">\n            <div name="Home" class="ms-Nav-compositeLink compositeLink is-expanded compositeLinkIsExpanded">\n              <button class="ms-Nav-chevronButton ms-Nav-chevronButton--link chevronButton chevronButtonLink"\n                aria-expanded="true" tabindex="0">\n                <i role="presentation" aria-hidden="true" data-icon-name="ChevronDown" class="ms-Icon ms-Nav-chevron chevronIcon"></i>\n              </button>\n              <a class="ms-Nav-linkButton link isOnExpanded ms-Button ms-Button--action ms-Button--command" href="http://example.com"\n                title="Home" tabindex="-1">\n                <div class="ms-Button-flexContainer">\n                  <i role="presentation" aria-hidden="true" class="ms-Icon ms-Icon-placeHolder ms-Button-icon"></i>\n                  <div class="ms-Button-textContainer"></div>\n                  <div class="ms-Nav-linkText linkText">Home</div>\n                </div>\n              </a>\n            </div>\n            <ul role="list" class="navItems">\n              <li role="listitem" class="navItem">\n                <div name="Activity" class="ms-Nav-compositeLink compositeLink">\n                  <a class="ms-Nav-linkButton link isOnExpanded ms-Button ms-Button--action ms-Button--command"\n                    href="http://msn.com" title="Activity" data-is-focusable="true" tabindex="-1">\n                    <div class="ms-Button-flexContainer">\n                      <i role="presentation" aria-hidden="true" class="ms-Icon ms-Icon-placeHolder ms-Button-icon"></i>\n                      <div class="ms-Button-textContainer"></div>\n                      <div class="ms-Nav-linkText linkText">Activity</div>\n                    </div>\n                  </a>\n                </div>\n              </li>\n            </ul>\n          </li>\n          <li role="listitem" class="navItem" >\n            <div name="Documents" class="ms-Nav-compositeLink compositeLink is-expanded is-selected compositeLinkIsExpanded compositeLinkIsSelected">\n              <a class="ms-Nav-linkButton link isOnExpanded ms-Button ms-Button--action ms-Button--command" href="http://example.com"\n                title="Documents" data-is-focusable="true"tabindex="-1">\n                <div class="ms-Button-flexContainer">\n                  <i role="presentation" aria-hidden="true" class="ms-Icon ms-Icon-placeHolder ms-Button-icon"></i>\n                  <div class="ms-Button-textContainer"></div>\n                  <div class="ms-Nav-linkText">Documents</div>\n                </div>\n              </a>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  ',styles:["\n\n  "]}]}],P.ctorParameters=function(){return[]};var E=function(){return function(){}}();E.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[P],exports:[P]}]}],E.ctorParameters=function(){return[]};var N=function(){function t(){this.itemClick=new e.EventEmitter}return t.prototype.onClick=function(t){this.itemClick.next(t)},t}();N.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-breadcrumb",template:'\n    <div class="ms-Breadcrumb">\n        <div class="ms-Breadcrumb-overflow">\n          <div class="ms-Breadcrumb-overflowButton ms-Icon ms-Icon--ellipsis" tabindex="1"></div>\n          <i class="ms-Breadcrumb-chevron ms-Icon ms-Icon--ChevronRight"></i>\n          <div class="ms-Breadcrumb-overflowMenu">\n            <ul class="ms-ContextualMenu is-open"></ul>\n          </div>\n        </div>\n        <ul class="ms-Breadcrumb-list">\n          <li class="ms-Breadcrumb-listItem" *ngFor=\'let item of items\'>\n              <a class="ms-Breadcrumb-itemLink" tabindex="2" (click)="onClick(item)" [attr.title]="item.text">{{item.text}}</a>\n              <i class="ms-Breadcrumb-chevron ms-Icon ms-Icon--ChevronRight"></i>\n          </li>\n        </ul>\n      </div>\n  ',styles:["\n    .ms-Breadcrumb {\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      -webkit-font-smoothing: antialiased;\n      margin: 23px 0 1px; }\n\n    .ms-Breadcrumb-overflow {\n      display: none;\n      position: relative; }\n\n    .ms-Breadcrumb-list {\n      white-space: nowrap;\n      padding: 0;\n      margin: 0;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: stretch;\n      -ms-flex-align: stretch;\n      align-items: stretch; }\n\n    .ms-Breadcrumb-list .ms-Breadcrumb-listItem {\n      list-style-type: none;\n      margin: 0;\n      padding: 0;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      position: relative;\n      -webkit-box-align: center;\n      -ms-flex-align: center;\n      align-items: center; }\n\n    .ms-Breadcrumb-itemLink {\n      font-size: 21px;\n      font-weight: 100;\n      color: #333333;\n      padding: 0 8px;\n      max-width: 160px;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      padding-bottom: 3px; }\n\n    .ms-Breadcrumb-itemLink, .ms-Breadcrumb-overflowButton {\n      text-decoration: none;\n      outline: transparent; }\n\n    .ms-Breadcrumb-chevron {\n      font-size: 12px;\n      color: #666666; }\n\n    .ms-Icon--ChevronRight:before {\n      content: '\\E76C'; }\n\n    .ms-Breadcrumb-itemLink:hover, .ms-Breadcrumb-overflowButton:hover {\n      background-color: #f8f8f8;\n      cursor: pointer; }\n  "]}]}],N.ctorParameters=function(){return[]},N.propDecorators={items:[{type:e.Input}],itemClick:[{type:e.Output}]};var I=function(){return function(){}}();I.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[N],exports:[N]}]}],I.ctorParameters=function(){return[]};var R=function(){function t(){}return t.uniqueid=function(){var t=String.fromCharCode(Math.floor(25*Math.random()+65));do{var e=Math.floor(42*Math.random()+48);(e<58||e>64)&&(t+=String.fromCharCode(e))}while(t.length<32);return t},t}(),V=function(){function t(t){this.changeDetectorRef=t,this._checked=!1,this.disabled=!1,this.offText="Off",this.onText="On",this.textLeft=!1,this.inputId=R.uniqueid(),this._onChange=function(t){},this._onTouched=function(){}}return Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this.checked&&(this._checked=t,this.changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classIsDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classTextLeft",{get:function(){return this.textLeft},enumerable:!0,configurable:!0}),t.prototype.onInputClick=function(t){t.stopPropagation(),this.toggle()},t.prototype.toggle=function(){this.checked=!this.checked,this._onChange(this.checked)},t.prototype.setDisabledState=function(t){this.disabled=t,this.changeDetectorRef.markForCheck()},t.prototype.writeValue=function(t){this.checked=t},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t}();V.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-toggle",template:'\n    <span class="ms-Toggle-description"><ng-content></ng-content></span>\n    <input type="checkbox" [attr.id]="inputId" [checked]="checked" (click)="onInputClick($event)" [disabled]="disabled" class="ms-Toggle-input" />\n    <label [attr.for]="inputId" class="ms-Toggle-field" [class.is-selected]="checked">\n      <span class="ms-Label ms-Label--off">{{ offText }}</span>\n      <span class="ms-Label ms-Label--on">{{ onText }}</span>\n    </label>\n  ',styles:["\n    :host.ms-Toggle {\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      -webkit-font-smoothing: antialiased;\n      font-size: 14px;\n      font-weight: 400;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n      -webkit-box-shadow: none;\n              box-shadow: none;\n      position: relative;\n      display: block;\n      margin-bottom: 8px; }\n\n    .ms-Toggle-description {\n      color: #333333;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      -webkit-box-shadow: none;\n              box-shadow: none;\n      margin-top: 0px;\n      margin-right: 0px;\n      margin-bottom: 0px;\n      margin-left: 0px;\n      display: block;\n      padding-top: 5px;\n      padding-right: 0px;\n      padding-bottom: 5px;\n      padding-left: 0px;\n      word-wrap: break-word;\n      overflow-wrap: break-word; }\n\n    .ms-Toggle-input {\n      display: none; }\n\n    .ms-Toggle-field {\n      position: relative;\n      display: inline-block;\n      width: 45px;\n      height: 20px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      border: 1px solid #a6a6a6;\n      border-radius: 20px;\n      cursor: pointer;\n      -webkit-transition: all 0.1s ease;\n      transition: all 0.1s ease;\n      outline: 0; }\n\n    :host.ms-Toggle .ms-Toggle-field:before {\n      position: absolute;\n      top: 4px;\n      width: 10px;\n      height: 10px;\n      border-radius: 10px;\n      content: '';\n      left: 4px;\n      background-color: #333333;\n      outline: 1px solid transparent;\n      -webkit-transition: all 0.1s ease;\n      transition: all 0.1s ease; }\n\n    :host.ms-Toggle .ms-Label {\n      position: relative;\n      padding: 0 0 0 50px; }\n\n    :host.ms-Toggle .ms-Toggle-field .ms-Label {\n      color: #000;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none; }\n\n    :host.ms-Toggle .ms-Toggle-field .ms-Label--off {\n      display: block; }\n\n    :host.ms-Toggle .ms-Toggle-field.is-selected .ms-Label--off {\n      display: none; }\n\n    :host.ms-Toggle .ms-Toggle-field .ms-Label--on {\n      display: none; }\n\n    :host.ms-Toggle .ms-Toggle-field.is-selected .ms-Label--on {\n      display: block; }\n\n    :host.ms-Toggle .ms-Toggle-field.is-selected {\n      background-color: #0078d7;\n      border-color: #0078d7; }\n\n    :host.ms-Toggle .ms-Toggle-field.is-selected:focus, :host.ms-Toggle .ms-Toggle-field.is-selected:hover {\n      background-color: #106ebe;\n      border-color: #106ebe; }\n\n    :host.ms-Toggle .ms-Toggle-field.is-selected:before {\n      background-color: #fff;\n      left: 28px; }\n\n    :host.ms-Toggle.is-disabled .ms-Toggle-field {\n      background-color: #fff;\n      border-color: #c8c8c8;\n      pointer-events: none;\n      cursor: default; }\n\n    :host.ms-Toggle.is-disabled .ms-Toggle-field.is-selected {\n      background-color: #c8c8c8; }\n\n    :host.ms-Toggle.is-disabled .ms-Toggle-field:before {\n      background-color: #fff; }\n\n    :host.ms-Toggle.is-disabled .ms-Label {\n      color: #a6a6a6; }\n\n    :host.ms-Toggle.ms-Toggle--textLeft {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex; }\n\n    :host.ms-Toggle.ms-Toggle--textLeft .ms-Toggle-field {\n      margin-right: 24px; }\n\n    :host.ms-Toggle.ms-Toggle--textLeft .ms-Toggle-description {\n      -webkit-box-flex: 1;\n          -ms-flex: auto;\n              flex: auto; }\n  "],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return V}),multi:!0}],preserveWhitespaces:!1,changeDetection:e.ChangeDetectionStrategy.OnPush,host:{"class":"ms-Toggle"}}]}],V.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},V.propDecorators={checked:[{type:e.Input}],disabled:[{type:e.Input}],offText:[{type:e.Input}],onText:[{type:e.Input}],textLeft:[{type:e.Input}],classIsDisabled:[{type:e.HostBinding,args:["class.is-disabled"]}],classTextLeft:[{type:e.HostBinding,args:["class.ms-Toggle--textLeft"]}]};var B=function(){return function(){}}();B.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[V],exports:[V]}]}],B.ctorParameters=function(){return[]};var A=function(){function t(t){this.changeDetectorRef=t,this.multiline=!1,this.rows=3,this.type="text",this.disabled=!1,this.required=!1,this.value=null,this.classes="ms-TextField",this._onChange=function(t){},this._onTouched=function(){}}return Object.defineProperty(t.prototype,"classMultiline",{get:function(){return this.multiline},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classIsDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),t.prototype.onChange=function(t){t.stopPropagation(),this.value=t.target.value,this._onChange(this.value)},t.prototype.onTouched=function(t){this._onTouched()},t.prototype.setDisabledState=function(t){this.disabled=t,this.changeDetectorRef.markForCheck()},t.prototype.writeValue=function(t){this.value=t},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t}();A.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-text-field",template:'\n    <label class="ms-Label" [class.is-required]="required">{{label}}</label>\n    <input class="ms-TextField-field"\n      *ngIf="!multiline"\n      [attr.type]="type" \n      [attr.placeholder]="placeholder" \n      [value]="value" \n      [disabled]="disabled" \n      (blur)="onTouched($event)"\n      (change)="onChange($event)" \n      (keyup)="onChange($event)"\n    />\n\n    <textarea class="ms-TextField-field"\n    *ngIf="multiline"\n    [attr.type]="type" \n    [attr.placeholder]="placeholder" \n    [value]="value" \n    [disabled]="disabled"\n    [attr.rows]="rows"\n    (blur)="onTouched($event)"\n    (change)="onChange($event)" \n    (keyup)="onChange($event)"\n    ></textarea>\n  ',styles:["\n    :host.ms-TextField {\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      -webkit-font-smoothing: antialiased;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n      -webkit-box-shadow: none;\n              box-shadow: none;\n      color: #333333;\n      font-size: 14px;\n      font-weight: 400;\n      margin-bottom: 8px; }\n\n    .ms-Label {\n      font-size: 14px;\n      font-weight: 600; }\n\n    .ms-TextField-field {\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n      -webkit-box-shadow: none;\n              box-shadow: none;\n      border: 1px solid #c8c8c8;\n      border-radius: 0;\n      font-weight: 300;\n      font-size: 14px;\n      color: #333333;\n      height: 32px;\n      padding: 6px 12px 7px;\n      width: 100%;\n      min-width: 180px;\n      outline: 0;\n      text-overflow: ellipsis; }\n\n    :host.ms-TextField.ms-TextField--multiline .ms-TextField-field {\n      color: #333333;\n      font-size: 14px;\n      line-height: 17px;\n      min-height: 60px;\n      min-width: 260px;\n      padding-top: 6px;\n      overflow: auto; }\n\n    :host.ms-TextField.is-disabled .ms-TextField-field {\n      background-color: #f4f4f4;\n      border-color: #f4f4f4;\n      pointer-events: none;\n      cursor: default; }\n\n    .ms-TextField-field:hover {\n      border-color: #333333; }\n\n    .ms-TextField-field:active, .ms-TextField-field:focus {\n      border-color: #0078d7; }\n\n    :host.ms-TextField.ng-invalid.ng-touched .ms-TextField-field {\n      border-color: #a80000; }\n  "],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return A}),multi:!0}],preserveWhitespaces:!1,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],A.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},A.propDecorators={label:[{type:e.Input}],multiline:[{type:e.Input}],rows:[{type:e.Input}],type:[{type:e.Input}],placeholder:[{type:e.Input}],disabled:[{type:e.Input}],required:[{type:e.Input}],classes:[{type:e.HostBinding,args:["class"]}],classMultiline:[{type:e.HostBinding,args:["class.ms-TextField--multiline"]}],classIsDisabled:[{type:e.HostBinding,args:["class.is-disabled"]}]};var D=function(){return function(){}}();D.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[A],exports:[A]}]}],D.ctorParameters=function(){return[]};var F=function(){function t(){this.primary=!1,this.classes=!0}return Object.defineProperty(t.prototype,"classPrimary",{get:function(){return this.primary},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t}();F.decorators=[{type:e.Component,args:[{selector:"button[sx-ngx-fabric-button], a[sx-ngx-fabric-button]",styles:["\n    :host:hover {\n      background-color: #eaeaea;\n      border: 1px solid #eaeaea; }\n\n    :host, :host:active {\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      -webkit-box-shadow: none;\n              box-shadow: none;\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      -webkit-font-smoothing: antialiased;\n      color: #333;\n      font-size: 14px;\n      font-weight: 400;\n      background-color: #f4f4f4;\n      border: 1px solid #f4f4f4;\n      cursor: pointer;\n      display: inline-block;\n      height: 32px;\n      min-width: 80px;\n      padding: 4px 20px 6px;\n      outline: none;\n      text-align: center; }\n\n    .ms-Button-label {\n      color: #333;\n      font-weight: 600;\n      font-size: 14px; }\n\n    :host.ms-Button--primary:hover {\n      background-color: #005a9e;\n      border-color: #005a9e; }\n\n    :host.ms-Button--primary, :host.ms-Button--primary:active {\n      background-color: #0078d7;\n      border-color: #0078d7; }\n\n    :host.ms-Button--primary .ms-Button-label {\n      color: #fff; }\n\n    :host[disabled], :host[disabled]:hover, :host[disabled]:active {\n      cursor: default;\n      background-color: #f4f4f4;\n      border-color: #f4f4f4; }\n\n    :host[disabled] .ms-Button-label {\n      color: #a6a6a6; }\n  "],template:'\n    <div class="ms-Button-label"><ng-content></ng-content></div>\n  '}]}],F.ctorParameters=function(){return[]},F.propDecorators={primary:[{type:e.Input}],classes:[{type:e.HostBinding,args:["class.ms-Button"]}],classPrimary:[{type:e.HostBinding,args:["class.ms-Button--primary"]}]};var M=function(){return function(){}}();M.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[F],exports:[F]}]}],M.ctorParameters=function(){return[]};var z=function(){function t(t){this.changeDetectorRef=t,this._checked=!1,this.disabled=!1,this.inputId=R.uniqueid(),this._onChange=function(t){},this._onTouched=function(){}}return Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this.checked&&(this._checked=t,this.changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),t.prototype.onInputClick=function(t){t.stopPropagation(),this.toggle()},t.prototype.toggle=function(){this.checked=!this.checked,this._onChange(this.checked)},t.prototype.setDisabledState=function(t){this.disabled=t,this.changeDetectorRef.markForCheck()},t.prototype.writeValue=function(t){this.checked=t},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t}();z.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-checkbox",template:'\n    <input type="checkbox" [attr.id]="inputId" [checked]="checked" (click)="onInputClick($event)" [disabled]="disabled"/>\n    <label role="checkbox" [attr.for]="inputId" [class.is-checked]="checked" [class.disabled]="disabled">\n      <span class="ms-label"><ng-content></ng-content></span>\n    </label>\n  ',styles:["\n    :host {\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      color: #333333;\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      min-height: 36px;\n      position: relative; }\n\n    input {\n      position: absolute;\n      opacity: 0; }\n\n    label {\n      display: inline-block;\n      cursor: pointer;\n      margin-top: 8px;\n      position: relative;\n      outline: 0;\n      vertical-align: top; }\n\n    label:hover {\n      color: #000000; }\n\n    label:before {\n      content: '';\n      display: inline-block;\n      border: 1px solid #a6a6a6;\n      width: 20px;\n      height: 20px;\n      cursor: pointer;\n      font-weight: 400;\n      position: absolute;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      -webkit-transition-property: background, border, border-color;\n      transition-property: background, border, border-color;\n      -webkit-transition-duration: 200ms;\n              transition-duration: 200ms;\n      -webkit-transition-timing-function: cubic-bezier(0.4, 0, 0.23, 1);\n              transition-timing-function: cubic-bezier(0.4, 0, 0.23, 1); }\n\n    label:hover:before {\n      border: 1px solid #333333; }\n\n    label.disabled {\n      color: #c8c8c8; }\n\n    label.disabled:before, label.disabled:hover:before {\n      border: 1px solid #c8c8c8; }\n\n    label.is-checked:before {\n      border: 10px solid #0078d7;\n      background-color: #0078d7; }\n\n    label.is-checked:hover:before {\n      border: 10px solid #106ebe;\n      background-color: #106ebe; }\n\n    label.disabled.is-checked:before, label.disabled.is-checked:hover:before {\n      border: 10px solid #c8c8c8;\n      background-color: #c8c8c8; }\n\n    label:after {\n      content: '\\E73E';\n      font-family: FabricMDL2Icons;\n      display: none;\n      position: absolute;\n      font-weight: 900;\n      background-color: transparent;\n      font-size: 13px;\n      top: 0;\n      color: #fff;\n      line-height: 20px;\n      width: 20px;\n      text-align: center; }\n\n    label.is-checked:after {\n      display: block; }\n\n    .ms-label {\n      font-size: 14px;\n      padding: 0 0 0 26px;\n      cursor: pointer;\n      display: inline-block; }\n  "],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return z}),multi:!0}],preserveWhitespaces:!1,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],z.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},z.propDecorators={checked:[{type:e.Input}],disabled:[{type:e.Input}]};var L=function(){return function(){}}();L.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[z],exports:[z]}]}],L.ctorParameters=function(){return[]};var U=function(t){function e(e,n,o){var i=t.call(this)||this;return i._elementRef=e,i._changeDetectorRef=n,i._document=o,i}return j(e,t),e.prototype.attachComponentPortal=function(t){return this._portalOutlet.attachComponentPortal(t)},e.prototype.attachTemplatePortal=function(t){throw new Error("Method not implemented.")},e}(i.BasePortalOutlet);U.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-dialog-container",template:'\n    <ng-template #portalOutlet="cdkPortalOutlet" cdkPortalOutlet ></ng-template>\n  '}]}],U.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:undefined,decorators:[{type:e.Optional},{type:e.Inject,args:[r.DOCUMENT]}]}]},U.propDecorators={_portalOutlet:[{type:e.ViewChild,args:["portalOutlet"]}]};var W=function(){function t(t){this.overlayRef=t,this._beforeClose=new c.Subject,this._afterClosed=new c.Subject}return t.prototype.close=function(t){this.overlayRef.dispose(),this._afterClosed.next(t),this._afterClosed.complete(),this.componentInstance=null},t.prototype.afterClosed=function(){return this._afterClosed.asObservable()},t.prototype.beforeClose=function(){return this._beforeClose.asObservable()},t}(),H=new e.InjectionToken("SX_NGX_FABRIC_DIALOG_DATA"),q={hasBackdrop:!0,backdropClass:"ms-Overlay--dark",panelClass:"tm-file-preview-dialog-panel",minWidth:"250px",maxWidth:"80vw",minHeight:"100px",maxHeight:"80vh"},Y=function(){function t(t,e){this.injector=t,this.overlay=e}return t.prototype.open=function(t,e){void 0===e&&(e={});var n=Object.assign({},q,e),o=this.createOverlay(n),i=this._attachDialogContainer(o,e),r=this._attachDialogContent(t,i,o,e);return o.backdropClick().subscribe(function(t){return r.close()}),r},t.prototype.createOverlay=function(t){var e=this.getOverlayConfig(t);return this.overlay.create(e)},t.prototype.getOverlayConfig=function(t){var e=this.overlay.position().global().centerHorizontally().centerVertically();return new s.OverlayConfig({hasBackdrop:t.hasBackdrop,backdropClass:t.backdropClass,panelClass:t.panelClass,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:e,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight})},t.prototype.attachDialogContainer=function(t,e,n,o){var r=this.createInjector(n,o),s=new i.ComponentPortal(t,null,r);return e.attach(s).instance},t.prototype._attachDialogContainer=function(t,e){var n=new i.ComponentPortal(U,null),o=t.attach(n);return o.instance._config=e,o.instance},t.prototype._attachDialogContent=function(t,n,o,r){var s=new W(o);if(r.hasBackdrop&&o.backdropClick().subscribe(function(){s.close()}),t instanceof e.TemplateRef)n.attachTemplatePortal(new i.TemplatePortal(t,null,{$implicit:r.data,dialogRef:s}));else{var c=this.createInjector(r,s),u=n.attachComponentPortal(new i.ComponentPortal(t,undefined,c));s.componentInstance=u.instance}return s},t.prototype.createInjector=function(t,e){var n=new WeakMap;return n.set(W,e),n.set(H,t.data),new i.PortalInjector(this.injector,n)},t}();Y.decorators=[{type:e.Injectable}],Y.ctorParameters=function(){return[{type:e.Injector},{type:s.Overlay}]};var $=0,G=function(){function t(t){this.dialogRef=t,this.ariaLabel="Close dialog"}return t.prototype.ngOnChanges=function(t){var e=t._sxNgxFabricDialogClose||t._sxNgxFabricDialogCloseResult;e&&(this.dialogResult=e.currentValue)},t}();G.decorators=[{type:e.Directive,args:[{selector:"button[sx-ngx-fabric-dialog-close], button[sxNgxFabricDialogClose]",exportAs:"sxNgxFabricDialogClose",host:{"(click)":"dialogRef.close(dialogResult)","[attr.aria-label]":"ariaLabel",type:"button"}}]}],G.ctorParameters=function(){return[{type:W}]},G.propDecorators={ariaLabel:[{type:e.Input,args:["aria-label"]}],dialogResult:[{type:e.Input,args:["sx-ngx-fabric-dialog-close"]}],dialogClose:[{type:e.Input,args:["sxNgxFabricDialogClose"]}]};var X=function(){return function(t){this._container=t,this.id="sx-ngx-fabric-dialog-title-"+$++}}();X.decorators=[{type:e.Directive,args:[{selector:"[sx-ngx-fabric-dialog-title], [sxNgxFabricDialogTitle]",exportAs:"sxNgxFabricDialogTitle",host:{"class":"ms-Dialog-title","[id]":"id"}}]}],X.ctorParameters=function(){return[{type:U,decorators:[{type:e.Optional}]}]},X.propDecorators={id:[{type:e.Input}]};var K=function(){return function(){}}();K.decorators=[{type:e.Directive,args:[{selector:"[sx-ngx-fabric-dialog-content], sx-ngx-fabric-dialog-content, [sxNgxFabricDialogContent]",host:{"class":"ms-Dialog-content"}}]}],K.ctorParameters=function(){return[]};var Q=function(){return function(){}}();Q.decorators=[{type:e.Directive,args:[{selector:"[sx-ngx-fabric-dialog-actions], sx-ngx-fabric-dialog-actions, [sxNgxFabricDialogActions]",host:{"class":"ms-Dialog-actions"}}]}],Q.ctorParameters=function(){return[]};var J=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Y]}},t}();J.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,s.OverlayModule,i.PortalModule],declarations:[U,G,X,K,Q],entryComponents:[U],exports:[G,X,K,Q],providers:[Y]}]}],J.ctorParameters=function(){return[]};var Z=function(){function t(t){this.elementRef=t,this.closed=new e.EventEmitter}return Object.defineProperty(t.prototype,"beakPosition",{get:function(){return this._beakPosition},set:function(t){this._beakPosition=t,this.updateBeakPosition()},enumerable:!0,configurable:!0}),t.prototype.updateBeakPosition=function(){this.beakPosition&&(this.beak.nativeElement.style.top=this.beakPosition.top,this.beak.nativeElement.style.left=this.beakPosition.left,this.beak.nativeElement.style.right=this.beakPosition.right,this.beak.nativeElement.style.bottom=this.beakPosition.bottom)},t}();Z.decorators=[{type:e.Component,args:[{selector:"sx-ngx-fabric-callout",template:'\n    <ng-template>\n      <div class="ms-ContextualHost is-positioned ms-ContextualHost--arrowLeft">\n        <div class="ms-ContextualHost-main">\n          <div class="ms-Callout">\n            <div class="ms-Callout-main">\n              <div class="ms-Callout-header">\n                <p class="ms-Callout-title">\n                  <ng-content select="[sxNgxFabricCalloutHeader]"></ng-content>\n                </p>\n              </div>\n              <div class="ms-Callout-inner">\n                <div class="ms-Callout-content">\n                  <p class="ms-Callout-subText">\n                    <ng-content select="[sxNgxFabricCalloutContent]"></ng-content>\n                  </p>\n                </div>\n                <div class="ms-Callout-actions">\n                  <ng-content select="[sxNgxFabricCalloutActions]"></ng-content>\n                </div>\n              </div>\n              <ng-content></ng-content>\n            </div>\n          </div>\n        </div>\n        <div #beak class="ms-ContextualHost-beak"></div>\n      </div>\n    </ng-template>\n  ',styles:["\n    .ms-ContextualHost {\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      -webkit-font-smoothing: antialiased;\n      z-index: 10;\n      margin: 16px auto;\n      position: relative;\n      min-width: 10px;\n      background-color: #fff;\n      -webkit-box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.4);\n              box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.4); }\n\n    .ms-ContextualHost-main {\n      position: relative;\n      background-color: #fff;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      outline: 1px solid transparent;\n      z-index: 5;\n      min-height: 10px; }\n\n    .ms-Callout {\n      font-family: Segoe UI WestEuropean,Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;\n      -webkit-font-smoothing: antialiased;\n      width: 288px; }\n\n    .ms-Callout-header {\n      z-index: 105;\n      padding: 24px 28px 12px; }\n\n    .ms-Callout-title {\n      margin: 0;\n      font-weight: 300;\n      font-size: 21px; }\n\n    .ms-Callout-inner {\n      height: 100%;\n      padding: 0 28px 12px; }\n\n    .ms-Callout-subText {\n      margin: 0;\n      font-weight: 300;\n      color: #333;\n      font-size: 12px; }\n\n    .ms-Callout-actions {\n      position: relative;\n      margin-top: 20px;\n      width: 100%;\n      white-space: nowrap; }\n\n    .ms-ContextualHost-beak {\n      -webkit-box-shadow: 0 0 15px -5px #3c3c3c;\n              box-shadow: 0 0 15px -5px #3c3c3c;\n      position: absolute;\n      width: 28px;\n      height: 28px;\n      background: #fff;\n      border: 1px solid #eaeaea;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n      z-index: 0;\n      outline: 1px solid transparent; }\n  "]}]}],Z.ctorParameters=function(){return[{type:e.ElementRef}]},Z.propDecorators={xPosition:[{type:e.Input}],yPosition:[{type:e.Input}],templateRef:[{type:e.ViewChild,args:[e.TemplateRef]}],beak:[{type:e.ViewChild,args:["beak"]}],closed:[{type:e.Output}]};var tt,et="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nt={errorObject:{e:{}}},ot={tryCatch:function(t){return tt=t,p}},it={isFunction:function(t){return"function"==typeof t}},rt={isArray:Array.isArray||function(t){return t&&"number"==typeof t.length}},st={isObject:function(t){return null!=t&&"object"==typeof t}},ct=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ut={UnsubscriptionError:function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return ct(e,t),e}(Error)},at={Subscription:function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,o=this._parents,i=this._unsubscribe,r=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=o?o.length:0;n;)n.remove(this),n=++s<c&&o[s]||null;if(it.isFunction(i)){(a=ot.tryCatch(i).call(this))===nt.errorObject&&(e=!0,t=t||(nt.errorObject.e instanceof ut.UnsubscriptionError?f(nt.errorObject.e.errors):[nt.errorObject.e]))}if(rt.isArray(r))for(s=-1,c=r.length;++s<c;){var u=r[s];if(st.isObject(u)){var a=ot.tryCatch(u.unsubscribe).call(u);if(a===nt.errorObject){e=!0,t=t||[];var l=nt.errorObject.e;l instanceof ut.UnsubscriptionError?t=t.concat(f(l.errors)):t.push(l)}}}if(e)throw new ut.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var o=n;(n=new t)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},lt={empty:{closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},ht="undefined"!=typeof window&&window,pt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=ht||void 0!==et&&et||pt,dt=ft;!function(){if(!ft)throw new Error("RxJS could not find any global context (window, self, global)")}();var bt={root:dt},yt=h(function(t,e){var n=bt.root.Symbol;e.rxSubscriber="function"==typeof n&&"function"==typeof n["for"]?n["for"]("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),vt=(yt.rxSubscriber,yt.$$rxSubscriber,et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mt=function(t){function e(n,o,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=lt.empty;break;case 1:if(!n){this.destination=lt.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new gt(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new gt(this,n,o,i)}}return vt(e,t),e.prototype[yt.rxSubscriber]=function(){return this},e.create=function(t,n,o){var i=new e(t,n,o);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(at.Subscription),xt=mt,gt=function(t){function e(e,n,o,i){t.call(this),this._parentSubscriber=e;var r,s=this;it.isFunction(n)?r=n:n&&(r=n.next,o=n.error,i=n.complete,n!==lt.empty&&(s=Object.create(n),it.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=r,this._error=o,this._complete=i}return vt(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){throw this.unsubscribe(),n}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(o){return t.syncErrorValue=o,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(mt),_t={Subscriber:xt},wt=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},St={OuterSubscriber:function(t){function e(){t.apply(this,arguments)}return wt(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(_t.Subscriber)},Ot={isArrayLike:function(t){return t&&"number"==typeof t.length}},Ct={isPromise:function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},kt={toSubscriber:function(t,e,n){if(t){if(t instanceof _t.Subscriber)return t;if(t[yt.rxSubscriber])return t[yt.rxSubscriber]()}return t||e||n?new _t.Subscriber(t,e,n):new _t.Subscriber(lt.empty)}},Tt=h(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.getSymbolObservable=n,e.observable=n(bt.root),e.$$observable=e.observable}),jt=(Tt.getSymbolObservable,Tt.observable,Tt.$$observable,{noop:function(){}}),Pt={pipe:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return d(t)},pipeFromArray:d},Et={Observable:function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var o=this.operator,i=kt.toSubscriber(t,e,n);if(o?o.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(bt.root.Rx&&bt.root.Rx.config&&bt.root.Rx.config.Promise?e=bt.root.Rx.config.Promise:bt.root.Promise&&(e=bt.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,o){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(n){o(n),i.unsubscribe()}else t(e)},o,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[Tt.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Pt.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(bt.root.Rx&&bt.root.Rx.config&&bt.root.Rx.config.Promise?t=bt.root.Rx.config.Promise:bt.root.Promise&&(t=bt.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var o;e.subscribe(function(t){return o=t},function(t){return n(t)},function(){return t(o)})})},t.create=function(e){return new t(e)},t}()},Nt=h(function(t,e){function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var o=t.Map;if(o)for(var i=Object.getOwnPropertyNames(o.prototype),r=0;r<i.length;++r){var s=i[r];if("entries"!==s&&"size"!==s&&o.prototype[s]===o.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=n,e.iterator=n(bt.root),e.$$iterator=e.iterator}),It=(Nt.symbolIteratorPonyfill,Nt.iterator,Nt.$$iterator,et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rt={InnerSubscriber:function(t){function e(e,n,o){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=o,this.index=0}return It(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(_t.Subscriber)},Vt={subscribeToResult:function(t,e,n,o){var i=new Rt.InnerSubscriber(t,n,o);if(i.closed)return null;if(e instanceof Et.Observable)return e._isScalar?(i.next(e.value),i.complete(),null):(i.syncErrorThrowable=!0,e.subscribe(i));if(Ot.isArrayLike(e)){for(var r=0,s=e.length;r<s&&!i.closed;r++)i.next(e[r]);i.closed||i.complete()}else{if(Ct.isPromise(e))return e.then(function(t){i.closed||(i.next(t),i.complete())},function(t){return i.error(t)}).then(null,function(t){bt.root.setTimeout(function(){throw t})}),i;if(e&&"function"==typeof e[Nt.iterator])for(var c=e[Nt.iterator]();;){var u=c.next();if(u.done){i.complete();break}if(i.next(u.value),i.closed)break}else if(e&&"function"==typeof e[Tt.observable]){var a=e[Tt.observable]();if("function"==typeof a.subscribe)return a.subscribe(new Rt.InnerSubscriber(t,n,o));i.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var l="You provided "+(st.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(l))}}return null}},j=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Bt=(function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}j(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=ot.tryCatch(this.durationSelector)(t);if(e===nt.errorObject)this.destination.error(nt.errorObject.e);else{var n=Vt.subscribeToResult(this,e);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,o){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),At={Action:function(t){function e(e,n){t.call(this)}return Bt(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(at.Subscription)},Dt=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ft={AsyncAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return Dt(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),bt.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:bt.root.clearInterval(e)&&undefined||undefined},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,o=undefined;try{this.work(t)}catch(i){n=!0,o=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,o=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&n.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(At.Action)},Mt={Scheduler:function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}()},zt=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Lt={AsyncScheduler:function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=undefined}return zt(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Mt.Scheduler)},Ut={async:new Lt.AsyncScheduler(Ft.AsyncAction)},Wt={isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)+1>=0}},Ht={isScheduler:function(t){return t&&"function"==typeof t.schedule}},qt={isDate:function(t){return t instanceof Date&&!isNaN(+t)}},Yt=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},$t=(function(t){function e(e,n,o){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,Wt.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):Ht.isScheduler(n)&&(o=n),Ht.isScheduler(o)||(o=Ut.async),this.scheduler=o,this.dueTime=qt.isDate(e)?+e-this.scheduler.now():e}Yt(e,t),e.create=function(t,n,o){return void 0===t&&(t=0),new e(t,n,o)},e.dispatch=function(t){var e=t.index,n=t.period,o=t.subscriber;if(o.next(e),!o.closed){if(-1===n)return o.complete();t.index=e+1,this.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this.period,o=this.dueTime;return this.scheduler.schedule(e.dispatch,o,{index:0,period:n,subscriber:t})}}(Et.Observable),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gt=(function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(Vt.subscribeToResult(this,n))}$t(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.buffer;this.buffer=[],this.destination.next(r)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xt=(function(t){function e(e,n){t.call(this,e),this.bufferSize=n,this.buffer=[]}Gt(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)}}(_t.Subscriber),function(t){function e(e,n,o){t.call(this,e),this.bufferSize=n,this.startBufferEvery=o,this.buffers=[],this.count=0}Gt(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,o=this.buffers,i=this.count;this.count++,i%n==0&&o.push([]);for(var r=o.length;r--;){var s=o[r];s.push(t),s.length===e&&(o.splice(r,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var o=e.shift();o.length>0&&n.next(o)}t.prototype._complete.call(this)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kt=function(){return function(){this.buffer=[]}}(),Qt=(function(t){function e(e,n,o,i,r){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=o,this.maxBufferSize=i,this.scheduler=r,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==o||o<0,this.timespanOnly){var c={subscriber:this,context:s,bufferTimeSpan:n};this.add(s.closeAction=r.schedule(b,n,c))}else{var u={subscriber:this,context:s},a={bufferTimeSpan:n,bufferCreationInterval:o,subscriber:this,scheduler:r};this.add(s.closeAction=r.schedule(v,n,u)),this.add(r.schedule(y,o,a))}}Xt(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,o=n.length,i=0;i<o;i++){var r=n[i],s=r.buffer;s.push(t),s.length==this.maxBufferSize&&(e=r)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var o=e.shift();n.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(b,n,o))}},e.prototype.openContext=function(){var t=new Kt;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jt=(function(t){function e(e,n,o){t.call(this,e),this.openings=n,this.closingSelector=o,this.contexts=[],this.add(Vt.subscribeToResult(this,n))}Qt(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,o=0;o<n;o++)e[o].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var o=n.shift();o.subscription.unsubscribe(),o.buffer=null,o.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,o,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,o=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new at.Subscription,o={buffer:[],subscription:n};e.push(o);var i=Vt.subscribeToResult(this,t,o);!i||i.closed?this.closeBuffer(o):(i.context=o,this.add(i),n.add(i))}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zt=(function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}Jt(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,o,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=ot.tryCatch(this.closingSelector)();n===nt.errorObject?this.error(nt.errorObject.e):(t=new at.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Vt.subscribeToResult(this,n)),this.subscribing=!1)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),te=(function(t){function e(e,n,o){t.call(this,e),this.selector=n,this.caught=o}Zt(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle(),this.add(Vt.subscribeToResult(this,n))}}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ee={ScalarObservable:function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return te(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,o=t.subscriber;e?o.complete():(o.next(n),o.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(Et.Observable)},ne=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},oe={EmptyObservable:function(t){function e(e){t.call(this),this.scheduler=e}return ne(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(Et.Observable)},ie=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},re={ArrayObservable:function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return ie(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var o=t[t.length-1];Ht.isScheduler(o)?t.pop():o=null;var i=t.length;return i>1?new e(t,o):1===i?new ee.ScalarObservable(t[0],o):new oe.EmptyObservable(o)},e.dispatch=function(t){var e=t.array,n=t.index,o=t.count,i=t.subscriber;n>=o?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,o=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:o,subscriber:t});for(var r=0;r<o&&!t.closed;r++)t.next(n[r]);t.complete()},e}(Et.Observable)},se=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ce={},ue=(function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}se(e,t),e.prototype._next=function(t){this.values.push(ce),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var o=t[n];this.add(Vt.subscribeToResult(this,o,o,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.values,s=r[n],c=this.toRespond?s===ce?--this.toRespond:this.toRespond:0;r[n]=e,0===c&&(this.project?this._tryProject(r):this.destination.next(r.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ae={PromiseObservable:function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return ue(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){bt.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(m,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(m,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(x,0,{err:e,subscriber:t}))}).then(null,function(t){bt.root.setTimeout(function(){throw t})})},e}(Et.Observable)},le=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},he=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[Nt.iterator];if(!e&&"string"==typeof t)return new pe(t);if(!e&&t.length!==undefined)return new fe(t);if(!e)throw new TypeError("object is not iterable");return t[Nt.iterator]()}(e)}return le(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,o=t.iterator,i=t.subscriber;if(n)i.error(t.error);else{var r=o.next();r.done?i.complete():(i.next(r.value),t.index=e+1,i.closed?"function"==typeof o["return"]&&o["return"]():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n["return"]&&n["return"]();break}}},e}(Et.Observable),pe=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[Nt.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:undefined}},t}(),fe=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=g(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[Nt.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:undefined}},t}(),de=Math.pow(2,53)-1,be={IteratorObservable:he},ye=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ve={ArrayLikeObservable:function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return ye(e,t),e.create=function(t,n){var o=t.length;return 0===o?new oe.EmptyObservable:1===o?new ee.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,o=t.length,i=t.subscriber;i.closed||(n>=o?i.complete():(i.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,o=this.scheduler,i=n.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var r=0;r<i&&!t.closed;r++)t.next(n[r]);t.complete()},e}(Et.Observable)},me={Notification:function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Et.Observable.of(this.value);case"E":return Et.Observable["throw"](this.error);case"C":return Et.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",undefined,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",undefined),t}()},xe=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ge=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new _e(t,e))}},_e=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new Se(t,this.scheduler,this.delay))},t}(),we=_e,Se=function(t){function e(e,n,o){void 0===o&&(o=0),t.call(this,e),this.scheduler=n,this.delay=o}return xe(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Ce(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(me.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(me.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(me.Notification.createComplete())},e}(_t.Subscriber),Oe=Se,Ce=function(){return function(t,e){this.notification=t,this.destination=e}}(),ke={observeOn:ge,ObserveOnOperator:we,ObserveOnSubscriber:Oe,ObserveOnMessage:Ce},Te=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},je=(function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}Te(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[Tt.observable])return t instanceof Et.Observable&&!n?t:new e(t,n);if(rt.isArray(t))return new re.ArrayObservable(t,n);if(Ct.isPromise(t))return new ae.PromiseObservable(t,n);if("function"==typeof t[Nt.iterator]||"string"==typeof t)return new be.IteratorObservable(t,n);if(Ot.isArrayLike(t))return new ve.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[Tt.observable]().subscribe(t):e[Tt.observable]().subscribe(new ke.ObserveOnSubscriber(t,n,0))}}(Et.Observable),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pe=(function(t){function e(e,n,o,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=o,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}je(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Vt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,o,i){this.resultSelector?this._notifyResultSelector(t,e,n,o):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,o){var i;try{i=this.resultSelector(t,e,n,o)}catch(r){return void this.destination.error(r)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ee=(function(t){function e(e,n,o){t.call(this,e),this.predicate=n,this.source=o,this.count=0,this.index=0}Pe(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ne=(function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}Ee(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Vt.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,o,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ie=(function(t){function e(e,n,o){t.call(this,e),this.dueTime=n,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}Ne(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Re=(function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}Ie(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ve=(function(t){function e(e,n,o){t.call(this,e),this.delay=n,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}Re(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,o=t.scheduler,i=t.destination;n.length>0&&n[0].time-o.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var r=Math.max(0,n[0].time-o.now());this.schedule(t,r)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new Ve(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(me.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(me.Notification.createComplete())}}(_t.Subscriber),function(){return function(t,e){this.time=t,this.notification=e}}()),Be=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ae=(function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}Be(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return-1!==e&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=Vt.subscribeToResult(this,t,e);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}(St.OuterSubscriber),function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}Be(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new Ae(t,this.source))}}(Et.Observable),function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return Be(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(_t.Subscriber)),De=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Fe=(function(t){function e(e){t.call(this,e)}De(e,t),e.prototype._next=function(t){t.observe(this.destination)}}(_t.Subscriber),{minimalSetImpl:w,Set:bt.root.Set||w()}),Me=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ze=(function(t){function e(e,n,o){t.call(this,e),this.keySelector=n,this.values=new Fe.Set,o&&this.add(Vt.subscribeToResult(this,o))}Me(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(o){return void n.error(o)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Le=function(t,e){return function(n){return n.lift(new Ue(t,e))}},Ue=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new We(t,this.compare,this.keySelector))},t}(),We=function(t){function e(e,n,o){t.call(this,e),this.keySelector=o,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return ze(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=ot.tryCatch(this.keySelector)(t))===nt.errorObject)return this.destination.error(nt.errorObject.e);var n=!1;if(this.hasKey){if((n=ot.tryCatch(this.compare)(this.key,e))===nt.errorObject)return this.destination.error(nt.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(_t.Subscriber),He={distinctUntilChanged:Le},qe=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ye={ArgumentOutOfRangeError:function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return qe(e,t),e}(Error)},$e=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ge=(function(t){function e(e,n,o){t.call(this,e),this.index=n,this.defaultValue=o}$e(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new Ye.ArgumentOutOfRangeError)),t.complete()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xe=(function(t){function e(e,n,o,i){t.call(this,e),this.predicate=n,this.thisArg=o,this.source=i,this.index=0,this.thisArg=o||this}Ge(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ke=(function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}Xe(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Vt.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qe=(function(t){function e(e,n,o){t.call(this,e),this.project=n,this.resultSelector=o,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}Ke(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var o=this.project(t,e);this.hasSubscription=!0,this.add(Vt.subscribeToResult(this,o,t,e))}catch(i){n.error(i)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.resultSelector,s=this.destination;r?this.trySelectResult(t,e,n,o):s.next(e)},e.prototype.trySelectResult=function(t,e,n,o){var i=this.resultSelector,r=this.destination;try{var s=i(t,e,n,o);r.next(s)}catch(c){r.error(c)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Je=(function(t){function e(e,n,o,i){t.call(this,e),this.project=n,this.concurrent=o,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,o<Number.POSITIVE_INFINITY&&(this.buffer=[])}Qe(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,o=t.value,i=t.index;e.subscribeToProjection(n,o,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var o=this.index++;if(this.active<this.concurrent){n.next(t);var i=ot.tryCatch(this.project)(t,o);if(i===nt.errorObject)n.error(nt.errorObject.e);else if(this.scheduler){var r={subscriber:this,result:i,value:t,index:o};this.add(this.scheduler.schedule(e.dispatch,0,r))}else this.subscribeToProjection(i,t,o)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(Vt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,o,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ze=(function(t){function e(e,n,o){t.call(this,e),this.predicate=n,this.thisArg=o,this.count=0}Je(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tn=(function(t){function e(e,n){t.call(this,e),this.add(new at.Subscription(n))}Ze(e,t)}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),en=(function(t){function e(e,n,o,i,r){t.call(this,e),this.predicate=n,this.source=o,this.yieldIndex=i,this.thisArg=r,this.index=0}tn(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,o=this.index++;try{e.call(n||this,t,o,this.source)&&this.notifyComplete(this.yieldIndex?o:t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:undefined)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nn={EmptyError:function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return en(e,t),e}(Error)},on=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},rn=(function(t){function e(e,n,o,i,r){t.call(this,e),this.predicate=n,this.resultSelector=o,this.defaultValue=i,this.source=r,this.index=0,this.hasCompleted=!1,this._emitted=!1}on(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(o){return void this.destination.error(o)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(o){return void this.destination.error(o)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new nn.EmptyError):(t.next(this.defaultValue),t.complete())}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sn={ObjectUnsubscribedError:function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return rn(e,t),e}(Error)},cn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},un={SubjectSubscription:function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return cn(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(at.Subscription)},an=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ln=function(t){function e(e){t.call(this,e),this.destination=e}return an(e,t),e}(_t.Subscriber),hn=ln,pn=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return an(e,t),e.prototype[yt.rxSubscriber]=function(){return new ln(this)},e.prototype.lift=function(t){var e=new dn(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new sn.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new sn.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new sn.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),o=0;o<e;o++)n[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new sn.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new sn.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),at.Subscription.EMPTY):this.isStopped?(t.complete(),at.Subscription.EMPTY):(this.observers.push(t),new un.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Et.Observable;return t.source=this,t},e.create=function(t,e){return new dn(t,e)},e}(Et.Observable),fn=pn,dn=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return an(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):at.Subscription.EMPTY},e}(pn),bn={SubjectSubscriber:hn,Subject:fn,AnonymousSubject:dn},yn={MapPolyfill:function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?undefined:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}()},vn={Map:bt.root.Map||yn.MapPolyfill},mn={FastMap:function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var o in n)n.hasOwnProperty(o)&&null!==n[o]&&t.call(e,n[o],o)},t.prototype.clear=function(){this.values={}},t}()},xn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},gn=(function(t){function e(e,n,o,i,r){t.call(this,e),this.keySelector=n,this.elementSelector=o,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}xn(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new mn.FastMap:new vn.Map);var o,i=n.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(c){this.error(c)}else o=t;if(!i){i=this.subjectSelector?this.subjectSelector():new bn.Subject,n.set(e,i);var r=new _n(e,i,this);if(this.destination.next(r),this.durationSelector){var s=void 0;try{s=this.durationSelector(new _n(e,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new gn(e,i,this)))}}i.closed||i.next(o)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))}}(_t.Subscriber),function(t){function e(e,n,o){t.call(this,n),this.key=e,this.group=n,this.parent=o}return xn(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(_t.Subscriber)),_n=function(t){function e(e,n,o){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=o}return xn(e,t),e.prototype._subscribe=function(t){var e=new at.Subscription,n=this.refCountSubscription,o=this.groupSubject;return n&&!n.closed&&e.add(new wn(n)),e.add(o.subscribe(t)),e},e}(Et.Observable),wn=function(t){function e(e){t.call(this),this.parent=e,e.count++}return xn(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(at.Subscription),Sn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},On=(function(t){function e(){t.apply(this,arguments)}Sn(e,t),e.prototype._next=function(t){jt.noop()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cn=(function(t){function e(e){t.call(this,e)}On(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kn=(function(t){function e(e,n,o,i,r){t.call(this,e),this.predicate=n,this.resultSelector=o,this.defaultValue=i,this.source=r,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}Cn(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(o){return void this.destination.error(o)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(o){return void this.destination.error(o)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new nn.EmptyError)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Tn=(function(t){function e(e,n,o){t.call(this,e),this.project=n,this.count=0,this.thisArg=o||this}kn(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jn=(function(t){function e(e,n){t.call(this,e),this.value=n}Tn(e,t),e.prototype._next=function(t){this.destination.next(this.value)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pn=(function(t){function e(e){t.call(this,e)}jn(e,t),e.prototype._next=function(t){this.destination.next(me.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(me.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(me.Notification.createComplete()),t.complete()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),En=(function(t){function e(e,n,o,i){t.call(this,e),this.accumulator=n,this._seed=o,this.hasSeed=i,this.index=0}Pn(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=e,this.destination.next(e)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nn=(function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}En(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,o=this.count++;if(e.length<n)e.push(t);else{e[o%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,o=this.ring,i=0;i<n;i++){var r=e++%n;t.next(o[r])}t.complete()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),In=(function(t){function e(e,n,o,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=o,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}Nn(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,o=this.ish,i=this.destination;this.active++,this._innerSub(o,i,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,o,i){this.add(Vt.subscribeToResult(this,t,o,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.resultSelector,s=this.destination;r?this.trySelectResult(t,e,n,o):s.next(e)},e.prototype.trySelectResult=function(t,e,n,o){var i,r=this.resultSelector,s=this.destination;try{i=r(t,e,n,o)}catch(c){return void s.error(c)}s.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rn=(function(t){function e(e,n,o,i){t.call(this,e),this.accumulator=n,this.acc=o,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}In(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=ot.tryCatch(this.accumulator)(this.acc,t),o=this.destination;n===nt.errorObject?o.error(nt.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(Vt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.destination;this.acc=e,this.hasValue=!0,r.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vn=function(){return function(t){return t.lift(new Bn(t))}},Bn=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var o=new An(t,n),i=e.subscribe(o);return o.closed||(o.connection=n.connect()),i},t}(),An=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Rn(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,o=t._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()}}else this.connection=null},e}(_t.Subscriber),Dn={refCount:Vn},Fn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Mn=(function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}Fn(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new at.Subscription).add(this.source.subscribe(new Mn(this.getSubject(),this))),t.closed?(this._connection=null,t=at.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Dn.refCount()(this)}}(Et.Observable),function(t){function e(e,n){t.call(this,e),this.connectable=n}return Fn(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(bn.SubjectSubscriber)),zn=(function(t){function e(e,n){t.call(this,e),this.connectable=n}Fn(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,o=t._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()}}else this.connection=null}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ln=(function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}zn(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(Vt.subscribeToResult(this,t)):this.destination.complete()}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Un=(function(t){function e(e){t.call(this,e),this.hasPrev=!1}Ln(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wn=(function(t){function e(e){t.call(this),this._value=e}Un(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new sn.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)}}(bn.Subject),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hn=(function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}Wn(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),at.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),at.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)}}(bn.Subject),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qn={QueueAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Hn(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,o):e.flush(this)},e}(Ft.AsyncAction)},Yn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},$n={queue:new({QueueScheduler:function(t){function e(){t.apply(this,arguments)}return Yn(e,t),e}(Lt.AsyncScheduler)}.QueueScheduler)(qn.QueueAction)},Gn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Xn=(function(t){function e(e,n,o){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=o,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}Gn(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new Xn(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),o=this.scheduler;if(this.closed)throw new sn.ObjectUnsubscribedError;this.hasError?e=at.Subscription.EMPTY:this.isStopped?e=at.Subscription.EMPTY:(this.observers.push(t),e=new un.SubjectSubscription(this,t)),o&&t.add(t=new ke.ObserveOnSubscriber(t,o));for(var i=n.length,r=0;r<i&&!t.closed;r++)t.next(n[r].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||$n.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,o=this._events,i=o.length,r=0;r<i&&!(t-o[r].time<n);)r++;return i>e&&(r=Math.max(r,i-e)),r>0&&o.splice(0,r),o}}(bn.Subject),function(){return function(t,e){this.time=t,this.value=e}}()),Kn=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Qn=(function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}Kn(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var o=t[n],i=Vt.subscribeToResult(this,o,o,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,o,i){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var s=this.subscriptions[r];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jn=(function(t){function e(e,n,o){t.call(this,e),this.count=n,this.source=o}Qn(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zn=(function(t){function e(e,n,o){t.call(this,e),this.notifier=n,this.source=o,this.sourceIsBeingSubscribedTo=!0}Jn(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this.notifications,n=this.retries,o=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=e,this.retries=n,this.retriesSubscription=o,this},e.prototype.subscribeToRetries=function(){this.notifications=new bn.Subject;var e=ot.tryCatch(this.notifier)(this.notifications);if(e===nt.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=Vt.subscribeToResult(this,e)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),to=(function(t){function e(e,n,o){t.call(this,e),this.count=n,this.source=o}Zn(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,o=this.count;if(0===o)return t.prototype.error.call(this,e);o>-1&&(this.count=o-1),n.subscribe(this._unsubscribeAndRecycle())}}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),eo=(function(t){function e(e,n,o){t.call(this,e),this.notifier=n,this.source=o}to(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.errors=null,this.retriesSubscription=null;else{if(n=new bn.Subject,(o=ot.tryCatch(this.notifier)(n))===nt.errorObject)return t.prototype.error.call(this,nt.errorObject.e);i=Vt.subscribeToResult(this,o)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=o,this.retriesSubscription=i,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.errors,s=this.retries,c=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=r,this.retries=s,this.retriesSubscription=c,this.source.subscribe(this)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),no=(function(t){function e(){t.apply(this,arguments),this.hasValue=!1}eo(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,o,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oo=(function(t){function e(e,n,o){t.call(this,e),this.period=n,this.scheduler=o,this.hasValue=!1,this.add(o.schedule(S,n,{subscriber:this,period:n}))}no(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),io=(function(t){function e(e,n,o){t.call(this,e),this.compareTo=n,this.comparor=o,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new io(e,this)))}oo(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparor;t.length>0&&e.length>0;){var o=t.shift(),i=e.shift(),r=!1;n?(r=ot.tryCatch(n)(o,i))===nt.errorObject&&this.destination.error(nt.errorObject.e):r=o===i,r||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}}(_t.Subscriber),function(t){function e(e,n){t.call(this,e),this.parent=n}return oo(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(_t.Subscriber)),ro=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},so=(function(t){function e(e,n,o){t.call(this,e),this.predicate=n,this.source=o,this.seenValue=!1,this.index=0}ro(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:undefined),t.complete()):t.error(new nn.EmptyError)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),co=(function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}so(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),uo=(function(t){function e(e,n){t.call(this,e),this._skipCount=n,this._count=0,this._ring=new Array(n)}co(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var o=n%e,i=this._ring,r=i[o];i[o]=t,this.destination.next(r)}}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ao=(function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(Vt.subscribeToResult(this,n))}uo(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,o,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lo=(function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}ao(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ho=(function(t){function e(e,n,o){t.call(this,e),this.project=n,this.resultSelector=o,this.index=0}lo(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(o){return void this.destination.error(o)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var o=this.innerSubscription;o&&o.unsubscribe(),this.add(this.innerSubscription=Vt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,o,i){this.resultSelector?this._tryNotifyNext(t,e,n,o):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,o){var i;try{i=this.resultSelector(t,e,n,o)}catch(r){return void this.destination.error(r)}this.destination.next(i)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),po=(function(t){function e(e,n,o){t.call(this,e),this.inner=n,this.resultSelector=o,this.index=0}ho(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=Vt.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,o,i){var r=this.resultSelector,s=this.destination;r?this.tryResultSelector(t,e,n,o):s.next(e)},e.prototype.tryResultSelector=function(t,e,n,o){var i,r=this.resultSelector,s=this.destination;try{i=r(t,e,n,o)}catch(c){return void s.error(c)}s.next(i)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fo=(function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}po(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bo=(function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(Vt.subscribeToResult(this,n))}fo(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.complete()},e.prototype.notifyComplete=function(){}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yo=(function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}bo(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(o){return void n.error(o)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vo=(function(t){function e(e,n,o,i){t.call(this,e);var r=new _t.Subscriber(n,o,i);r.syncErrorThrowable=!0,this.add(r),this.safeSubscriber=r}yo(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()}}(_t.Subscriber),h(function(t,e){var n=et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,n){return void 0===n&&(n=e.defaultThrottleConfig),function(e){return e.lift(new o(t,n.leading,n.trailing))}};var o=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new i(t,this.durationSelector,this.leading,this.trailing))},t}(),i=function(t){function e(e,n,o,i){t.call(this,e),this.destination=e,this.durationSelector=n,this._leading=o,this._trailing=i,this._hasTrailingValue=!1}return n(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=Vt.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},e.prototype._unsubscribe=function(){var t=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,n=t.throttled,o=t._trailing,i=t._trailingValue,r=t._hasTrailingValue;n&&o&&r&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,n,o,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(St.OuterSubscriber)})),mo=(vo.defaultThrottleConfig,vo.throttle,et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xo=(function(t){function e(e,n,o,i,r){t.call(this,e),this.duration=n,this.scheduler=o,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}mo(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(O,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),go=function(){return function(t,e){this.value=t,this.interval=e}}(),_o=(function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}xo(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new go(t,n))}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wo=(function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}_o(e,t)}(Error),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),So=(function(t){function e(e,n,o,i,r){t.call(this,e),this.absoluteTimeout=n,this.waitFor=o,this.scheduler=i,this.errorInstance=r,this.action=null,this.scheduleTimeout()}wo(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oo=(function(t){function e(e,n,o,i,r){t.call(this,e),this.absoluteTimeout=n,this.waitFor=o,this.withObservable=i,this.scheduler=r,this.action=null,this.scheduleTimeout()}So(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Vt.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Co=(function(t){function e(e){t.call(this,e),this.window=new bn.Subject,e.next(this.window)}Oo(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new bn.Subject;e.next(n)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ko=(function(t){function e(e,n,o){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=o,this.windows=[new bn.Subject],this.count=0,e.next(this.windows[0])}Co(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,o=this.windowSize,i=this.windows,r=i.length,s=0;s<r&&!this.closed;s++)i[s].next(t);var c=this.count-o+1;if(c>=0&&c%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new bn.Subject;i.push(u),n.next(u)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),To=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return ko(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(bn.Subject),jo=(function(t){function e(e,n,o,i,r){t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=o,this.maxWindowSize=i,this.scheduler=r,this.windows=[];var s=this.openWindow();if(null!==o&&o>=0){var c={subscriber:this,window:s,context:null},u={windowTimeSpan:n,windowCreationInterval:o,subscriber:this,scheduler:r};this.add(r.schedule(T,n,c)),this.add(r.schedule(k,o,u))}else{var a={subscriber:this,window:s,windowTimeSpan:n};this.add(r.schedule(C,n,a))}}ko(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,o=0;o<n;o++){var i=e[o];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new To;this.windows.push(t);return this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)}}(_t.Subscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Po=(function(t){function e(e,n,o){t.call(this,e),this.openings=n,this.closingSelector=o,this.contexts=[],this.add(this.openSubscription=Vt.subscribeToResult(this,n,n))}jo(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,o=0;o<n;o++)e[o].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var o=n.length,i=-1;++i<o;){var r=n[i];r.window.error(e),r.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,o=-1;++o<n;){var i=e[o];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var o=t[n];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,o,i){if(t===this.openings){var r=this.closingSelector,s=ot.tryCatch(r)(e);if(s===nt.errorObject)return this.error(nt.errorObject.e);var c=new bn.Subject,u=new at.Subscription,a={window:c,subscription:u};this.contexts.push(a);var l=Vt.subscribeToResult(this,s,a);l.closed?this.closeWindow(this.contexts.length-1):(l.context=a,u.add(l)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],o=n.window,i=n.subscription;e.splice(t,1),o.complete(),i.unsubscribe()}}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Eo=(function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}Po(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new bn.Subject;this.destination.next(n);var o=ot.tryCatch(this.closingSelector)();if(o===nt.errorObject){var i=nt.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=Vt.subscribeToResult(this,o))}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),No=(function(t){function e(e,n,o){t.call(this,e),this.observables=n,this.project=o,this.toRespond=[];var i=n.length;this.values=new Array(i);for(r=0;r<i;r++)this.toRespond.push(r);for(var r=0;r<i;r++){var s=n[r];this.add(Vt.subscribeToResult(this,s,s,r))}}Eo(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.values[n]=e;var r=this.toRespond;if(r.length>0){var s=r.indexOf(n);-1!==s&&r.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(St.OuterSubscriber),et&&et.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Io=(function(t){function e(e,n,o){void 0===o&&(o=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=o}No(e,t),e.prototype._next=function(t){var e=this.iterators;rt.isArray(t)?e.push(new Ro(t)):"function"==typeof t[Nt.iterator]?e.push(new Io(t[Nt.iterator]())):e.push(new Vo(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var o=t[n];o.stillUnsubscribed?this.add(o.subscribe(o,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,o=0;o<e;o++){if("function"==typeof(s=t[o]).hasValue&&!s.hasValue())return}for(var i=!1,r=[],o=0;o<e;o++){var s=t[o],c=s.next();if(s.hasCompleted()&&(i=!0),c.done)return void n.complete();r.push(c.value)}this.project?this._tryProject(r):n.next(r),i&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(_t.Subscriber),function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}()),Ro=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Nt.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Vo=function(t){function e(e,n,o){t.call(this,e),this.parent=n,this.observable=o,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return No(e,t),e.prototype[Nt.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,o,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Vt.subscribeToResult(this,this.observable,this,e)},e}(St.OuterSubscriber),Bo=He.distinctUntilChanged,Ao=(vo.throttle,function(){function t(t,e,n){this._overlay=t,this._element=e,this._viewContainerRef=n,this._overlayRef=null,this._calloutOpen=!1,this._closeSubscription=l.Subscription.EMPTY,this._positionSubscription=l.Subscription.EMPTY}return Object.defineProperty(t.prototype,"sxNgxFabricCalloutTrigger",{get:function(){return this.callout},set:function(t){this.callout=t},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._closeSubscription.unsubscribe(),this._positionSubscription.unsubscribe()},t.prototype.openCallout=function(){var t=this;this._calloutOpen||(this._createOverlay().attach(this._portal),setTimeout(function(){t.callout.updateBeakPosition()}))},t.prototype.closeMenu=function(){this.callout.closed.emit()},t.prototype._handleClick=function(){this.openCallout()},t.prototype._createOverlay=function(){var t=this;if(!this._overlayRef){this._portal=new i.TemplatePortal(this.callout.templateRef,this._viewContainerRef);var e=this._getOverlayConfig();this._overlayRef=this._overlay.create(e),this._closeSubscription=this._overlayRef.backdropClick().subscribe(function(e){t._overlayRef.detach()})}return this._overlayRef},t.prototype._getOverlayConfig=function(){var t=this._getPosition();return this._subscribeToPositions(t),new s.OverlayConfig({hasBackdrop:!0,positionStrategy:t,scrollStrategy:this._overlay.scrollStrategies.reposition()})},t.prototype._getPosition=function(){var t="before"===this.callout.xPosition?["end","start"]:["start","end"],e=t[0],n=t[1],o="above"===this.callout.yPosition?["bottom","top"]:["top","bottom"],i=o[0],r=o[1],s=[i,r],c=s[0],u=s[1],a=[e,n],l=a[0],h=a[1];return c="top"===i?"bottom":"top",u="top"===r?"bottom":"top",this._overlay.position().connectedTo(this._element,{originX:e,originY:c},{overlayX:l,overlayY:i}).withOffsetY(0).withFallbackPosition({originX:n,originY:c},{overlayX:h,overlayY:i}).withFallbackPosition({originX:e,originY:u},{overlayX:l,overlayY:r},undefined,-0).withFallbackPosition({originX:n,originY:u},{overlayX:h,overlayY:r},undefined,-0)},t.prototype._subscribeToPositions=function(t){var e=this;this._positionSubscription=t.onPositionChange.pipe(Bo(null,function(t){return t.connectionPair})).subscribe(function(t){var n="top"===t.connectionPair.overlayY,o="start"===t.connectionPair.overlayX,i=e._portal.viewContainerRef.element.nativeElement.offsetWidth/2-14;e.callout.beakPosition={top:n?"-6px":null,bottom:n?null:"-6px",left:o?i+"px":null,right:o?null:i+"px"}})},t}());Ao.decorators=[{type:e.Directive,args:[{selector:"[sxNgxFabricCalloutTrigger]",host:{"aria-haspopup":"true","(click)":"_handleClick($event)"},exportAs:"sxNgxFabricCalloutTrigger"}]}],Ao.ctorParameters=function(){return[{type:s.Overlay},{type:e.ElementRef},{type:e.ViewContainerRef}]},Ao.propDecorators={sxNgxFabricCalloutTrigger:[{type:e.Input}]};var Do=function(){return function(){}}();Do.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Z,Ao],exports:[Z,Ao]}]}],Do.ctorParameters=function(){return[]};var Fo=function(){return function(){}}();Fo.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,L,M,D,J.forRoot(),B,I,Do,E],exports:[L,M,D,J,B,I,Do,E]}]}],Fo.ctorParameters=function(){return[]},t.SxNgxFabricModule=Fo,t.ɵr=N,t.ɵq=I,t.ɵd=F,t.ɵc=M,t.ɵu=Ao,t.ɵt=Z,t.ɵs=Do,t.ɵb=z,t.ɵa=L,t.ɵh=U,t.ɵl=Q,t.ɵi=G,t.ɵk=K,t.ɵj=X,t.ɵm=W,t.ɵg=J,t.ɵn=Y,t.ɵw=P,t.ɵv=E,t.ɵf=A,t.ɵe=D,t.ɵp=V,t.ɵo=B,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=sx-ngx-fabric.umd.min.js.map
